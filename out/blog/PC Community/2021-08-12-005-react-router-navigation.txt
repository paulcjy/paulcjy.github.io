1:HL["/_next/static/css/91417e851664d5e6.css","style",{"crossOrigin":""}]
0:["I-pGflQKisqRv9OcXwST-",[[["",{"children":["blog",{"children":[["board","PC%20Community","d"],{"children":[["post","2021-08-12-005-react-router-navigation","d"],{"children":["__PAGE__?{\"board\":\"PC Community\",\"post\":\"2021-08-12-005-react-router-navigation\"}",{}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/91417e851664d5e6.css","precedence":"next","crossOrigin":""}]],"$L3"]]]]
4:I[2649,["326","static/chunks/326-9823f391d24e26fc.js","185","static/chunks/app/layout-3fc148124fdeb158.js"],"CustomThemeProvider"]
5:I[8326,["326","static/chunks/326-9823f391d24e26fc.js","431","static/chunks/app/blog/%5Bboard%5D/page-86149bc53665de2b.js"],""]
6:I[5235,["326","static/chunks/326-9823f391d24e26fc.js","185","static/chunks/app/layout-3fc148124fdeb158.js"],""]
7:I[6954,[],""]
8:I[7264,[],""]
9:["board","PC%20Community","d"]
b:T2896,<p>이제 네비게이션을 만들고 각 메뉴를 눌렀을 때 해당 페이지로 이동하는 기능을 구현하려고 한다.
고등학교를 대상으로 하기 때문에 학교의 학사일정, 시간표, 식단표 등을 나이스 API에서 불러와 페이지에 띄울 것이다.
그러기 위해서 React의 router를 사용한다.
원래 구현하고 싶은 방법은 사용자가 백엔드로 요청을 보내면 백엔드에서 처리하여 React를 통해 돌려주는 것이지만 React router를 이용한 방법이 더 쉬워보여서 일단 이 방법을 사용했다.</p>
<h1>1. Router 설치</h1>
<p>React router에는 3가지가 있다고 한다.</p>
<ul>
<li>react-router - 웹 &#x26; 앱</li>
<li>react-router-dom - 웹</li>
<li>react-router-native - 앱</li>
</ul>
<pre><code>> npm install react-router-dom
</code></pre>
<h1>2. 페이지 만들기</h1>
<p>4개의 페이지를 만들었다.</p>
<ul>
<li>홈 - Home.js</li>
<li>학사일정 - Calendar.js</li>
<li>시간표 - Timetable.js</li>
<li>식단표 - Menu.js</li>
</ul>
<p>파일을 분류하기 위해 <code>/src</code> 아래에 <code>components</code>와 <code>routes</code> 폴더를 만들고, 페이지들은 <code>routes</code> 폴더에 정리했다.</p>
<pre><code>src
 ┣ components
 ┗ routes
    ┣ Home.js
    ┣ Calendar.js
    ┣ Timetable.js
    ┗ Menu.js
</code></pre>
<p><code>Home.js</code></p>
<pre><code class="language-jsx">import React from 'react';
import axios from 'axios';

class Home extends React.Component {
  state = {
    isLoading: true,
    title: null,
    content: null,
    data: [],
  };

  async getUsers() {
    const res = await axios.get('/users');
    this.setState({
      isLoading: false,
      title: res.data.title,
      content: res.data.content,
    });
  }

  componentDidMount() {
    this.getUsers();
  }

  render() {
    const { isLoading, title, content } = this.state;
    return (
      &#x3C;div>
        {isLoading ? (
          &#x3C;div>Loading...&#x3C;/div>
        ) : (
          &#x3C;div>
            &#x3C;h1>{title}&#x3C;/h1>
            &#x3C;p>{content}&#x3C;/p>
          &#x3C;/div>
        )}
      &#x3C;/div>
    );
  }
}

export default Home;
</code></pre>
<pre><code class="language-jsx">import React from 'react';

class Calendar extends React.Component {
  render() {
    return &#x3C;div>학사일정&#x3C;/div>;
  }
}

export default Calendar;
</code></pre>
<pre><code class="language-jsx">import React from 'react';

class Timetable extends React.Component {
  render() {
    return &#x3C;div>학사일정&#x3C;/div>;
  }
}

export default Timetable;
</code></pre>
<pre><code class="language-jsx">import React from 'react';

class Menu extends React.Component {
  render() {
    return &#x3C;div>학사일정&#x3C;/div>;
  }
}

export default Menu;
</code></pre>
<h1>3. Router 구현하기</h1>
<p>라우터는 <code>App.js</code> 파일에 구현할 것이다.</p>
<pre><code class="language-js">import { Route, BrowserRouter } from 'react-router-dom';
</code></pre>
<pre><code class="language-js">import Home from './routes/Home';
import Calendar from './routes/Calendar';
import Timetable from './routes/Timetable';
import Menu from './routes/Menu';
</code></pre>
<pre><code class="language-jsx">&#x3C;BrowserRouter>
  &#x3C;Route path="/" component={Home} />
  &#x3C;Route path="/calendar" component={Calendar} />
  &#x3C;Route path="/timetable" component={Timetable} />
  &#x3C;Route path="/menu" component={Menu} />
&#x3C;/BrowserRouter>
</code></pre>
<p>이렇게 하면 <code>http://localhost:3000/</code>에서는 <code>Home.js</code>가 나오고, <code>http://localhost:3000/calendar</code>에서는 <code>Calendar.js</code>가 나온다.</p>
<p><img src="https://user-images.githubusercontent.com/86853786/129266795-c52ddb79-cf3c-48d7-8d46-84338883182f.png" alt="/calendar 페이지"></p>
<p>이건 React의 라우터가 <code>BrowserRouter</code> 내부의 모든 <code>Route</code>를 지나면서 해당되는 경로를 모두 불러오기 때문이라고 한다. 즉, <code>http://localhost:3000/calendar</code>의 <code>/calendar</code>에는 맨 앞에 <code>/</code>가 있기 때문에 <code>Home</code>을 렌더링한다. 아래로 내려오면서 <code>/calendar</code>를 만나면 해당되는 경로이기 때문에 또 <code>Calendar</code>를 렌더링한다. 이런식으로 <code>Route</code> 중에 하나만 띄우는 것이 아니라 중복되는 것이 있어도 경로가 맞기만 하면 모두 렌더링하기 때문에 설정을 신경써서 하지 않으면 원하지 않는 결과가 나올 수 있다.</p>
<p>위의 경우에는 <code>/</code>의 <code>Route</code>에만 <code>exact</code>를 넣으면 문제가 해결된다.</p>
<pre><code class="language-jsx">&#x3C;Route exact path="/" component={Home} />
</code></pre>
<p><img src="https://user-images.githubusercontent.com/86853786/129268618-545b5b2d-12d8-4bc9-b75d-65232cf28ac1.png" alt="/">
<img src="https://user-images.githubusercontent.com/86853786/129268667-07921d6e-c5e7-469f-b91a-283ab9828c5c.png" alt="/calendar">
<img src="https://user-images.githubusercontent.com/86853786/129268701-1ebb6db8-580f-43f9-a9a7-d80a925ab734.png" alt="/timetable">
<img src="https://user-images.githubusercontent.com/86853786/129268749-b6f58fd0-de67-4689-ac6c-16be86dcb23e.png" alt="/menu"></p>
<h1>4. Navigation 만들기</h1>
<p>클릭으로 페이지를 옮겨다닐 수 있도록 네비게이션을 만들었다.
<code>/src/components</code>에 <code>Navigation.js</code> 파일을 생성한다.
각 페이지로 이동할 수 있도록 링크를 만들어야 하는데, React 라우터를 쓸 때는 react-router-dom에서 제공하는 <code>Link</code> 태그를 사용한다.
<code>Link</code> 태그의 속성값 <code>to</code>로 경로를 지정해주면 해당 경로로 이동하는 링크를 만들 수 있다.</p>
<p>먼저 <code>Link</code>를 사용하기 위해서는 <code>Link</code>를 <code>import</code> 해야한다.</p>
<pre><code class="language-js">import { Link } from 'react-router-dom';
</code></pre>
<pre><code class="language-jsx">&#x3C;Link to="path">text&#x3C;/Link>
</code></pre>
<p><code>Navigation.js</code></p>
<pre><code class="language-jsx">import React from 'react';
import { Link } from 'react-router-dom';

function Navigation() {
  return (
    &#x3C;div>
      &#x3C;ul>
        &#x3C;li>
          &#x3C;Link to="/">Home&#x3C;/Link>
        &#x3C;/li>
        &#x3C;li>
          &#x3C;Link to="/calendar">학사일정&#x3C;/Link>
        &#x3C;/li>
        &#x3C;li>
          &#x3C;Link to="/timetable">시간표&#x3C;/Link>
        &#x3C;/li>
        &#x3C;li>
          &#x3C;Link to="/menu">식단표&#x3C;/Link>
        &#x3C;/li>
      &#x3C;/ul>
    &#x3C;/div>
  );
}

export default Navigation;
</code></pre>
<p>완성된 <code>App.js</code>의 모습이다.</p>
<pre><code class="language-jsx">import React from 'react';
import { Route, BrowserRouter } from 'react-router-dom';

import Navigation from './components/Navigation';
import Home from './routes/Home';
import Calendar from './routes/Calendar';
import Timetable from './routes/Timetable';
import Menu from './routes/Menu';

class App extends React.Component {
  render() {
    return (
      &#x3C;BrowserRouter>
        &#x3C;Navigation />
        &#x3C;Route exact path="/" component={Home} />
        &#x3C;Route path="/calendar" component={Calendar} />
        &#x3C;Route path="/timetable" component={Timetable} />
        &#x3C;Route path="/menu" component={Menu} />
      &#x3C;/BrowserRouter>
    );
  }
}

export default App;
</code></pre>
<p><img src="https://user-images.githubusercontent.com/86853786/129272977-d3ee37af-5397-42a0-9197-3b6db68349c1.png" alt="네비게이션 페이지"></p>
<h2>&#x3C;Link>와 &#x3C;a></h2>
<p>HTML에서는 링크를 만들 때는 <code>&#x3C;a></code> 태그를 이용한다. 그러나 React에서는 <code>&#x3C;Link></code>를 사용하는 것이 좋다.
React는 SPA(Single Page Application)라서 한 번 페이지가 로드되면 다른 페이지로 이동해도 서버에 페이지를 새로 요청하지 않고 필요한 부분만 수정한다. 그래서 <code>&#x3C;Link></code>를 사용하면 페이지가 새로고침 되지는 않지만 다른 페이지로 이동하게 된다. 그러나 <code>&#x3C;a></code>를 사용하면 해당 url로 서버에 다시 요청을 보내게 되고, 페이지는 새로고침 된다.</p>
<p>지금까지 만든 페이지로는 <code>&#x3C;Link></code>를 사용하든 <code>&#x3C;a></code>를 사용하든 별 문제는 없지만 <code>&#x3C;a></code>를 사용하면 페이지가 새로고침 되는 것을 볼 수 있다.</p>
<h2>NavLink</h2>
<p><code>NavLink</code>는 <code>Link</code>와 같은 기능이지만 해당 링크에 있을 때만 네비게이션의 스타일이나 클래스를 지정할 수 있다. 스타일을 지정할 때는 <code>activeStyle</code> 속성을 사용하고, 클래스를 지정할 때는 <code>activeClassName</code> 속성을 사용한다.</p>
<pre><code class="language-js">import { NavLink } from 'react-router-dom';
</code></pre>
<p><code>Navigation.js</code></p>
<pre><code class="language-jsx">import React from 'react';
import { NavLink } from 'react-router-dom';

function Navigation() {
  const activeStyle = {
    color: 'red',
  };

  return (
    &#x3C;div>
      &#x3C;ul>
        &#x3C;li>
          &#x3C;NavLink exact to="/" activeStyle={activeStyle}>
            Home
          &#x3C;/NavLink>
        &#x3C;/li>
        &#x3C;li>
          &#x3C;NavLink to="/calendar" activeStyle={activeStyle}>
            학사일정
          &#x3C;/NavLink>
        &#x3C;/li>
        &#x3C;li>
          &#x3C;NavLink to="/timetable" activeStyle={activeStyle}>
            시간표
          &#x3C;/NavLink>
        &#x3C;/li>
        &#x3C;li>
          &#x3C;NavLink to="/menu" activeStyle={activeStyle}>
            식단표
          &#x3C;/NavLink>
        &#x3C;/li>
      &#x3C;/ul>
    &#x3C;/div>
  );
}

export default Navigation;
</code></pre>
<p><img src="https://user-images.githubusercontent.com/86853786/129276878-af90c8fe-5e84-47ba-bf49-f2c6533a433b.png" alt="NavLink 적용"></p>2:[null,["$","html",null,{"children":["$","body",null,{"children":["$","$L4",null,{"children":[["$","header",null,{"className":"h-16 sticky top-0 flex justify-center shadow bg-white/70 items-center backdrop-blur-sm dark:bg-black/80 dark:shadow-neutral-800","children":["$","nav",null,{"className":"flex ","children":[["$","div",null,{"className":"flex font-bold","children":[["$","$L5","Blog",{"href":"/blog","className":"transition flex justify-center w-16 text-gray-900 hover:text-gray-300 dark:text-gray-100 dark:hover:text-gray-600","children":"Blog"}],["$","$L5","About",{"href":"/about","className":"transition flex justify-center w-16 text-gray-900 hover:text-gray-300 dark:text-gray-100 dark:hover:text-gray-600","children":"About"}]]}],["$","div",null,{"className":"flex","children":["$","$L6",null,{}]}]]}]}],["$","main",null,{"children":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"flex flex-col h-[90vh] items-center justify-center","children":["$","div",null,{"className":"flex items-center","children":[["$","h1",null,{"className":"inline-block text-2xl pr-8 mr-8 border-r-[1.5px] border-gray-400 py-2","children":"404"}],["$","h2",null,{"className":"inline-block text-lg","children":"This page could not be found"}]]}]}],"notFoundStyles":[],"childProp":{"current":[null,["$","div",null,{"className":"my-10 grid grid-cols-[1fr,minmax(auto,1100px),1fr]","children":["$","div",null,{"className":"col-start-2 grid grid-cols-[minmax(auto,200px),min(700px,100%)] gap-x-10","children":[["$","div",null,{"children":["$","div",null,{"className":"space-y-5","children":[["$","div","Linux",{"children":[["$","div",null,{"className":"mb-1 px-3 font-semibold tracking-wider text-zinc-400","children":"Linux"}],[["$","$L5","basic",{"href":"/blog/basic","className":"block rounded-md m-0 px-3 py-1 text-sm font-medium hover:bg-gray-100 hover:text-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"basic"}],["$","span",null,{"className":"text-gray-400","children":["(",7,")"]}]]}]]]}],["$","div","Web",{"children":[["$","div",null,{"className":"mb-1 px-3 font-semibold tracking-wider text-zinc-400","children":"Web"}],[["$","$L5","GitHub Pages + Next",{"href":"/blog/GitHub Pages + Next","className":"block rounded-md m-0 px-3 py-1 text-sm font-medium hover:bg-gray-100 hover:text-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"GitHub Pages + Next"}],["$","span",null,{"className":"text-gray-400","children":["(",1,")"]}]]}],["$","$L5","Github pages",{"href":"/blog/Github pages","className":"block rounded-md m-0 px-3 py-1 text-sm font-medium hover:bg-gray-100 hover:text-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"Github pages"}],["$","span",null,{"className":"text-gray-400","children":["(",15,")"]}]]}],["$","$L5","PC Community",{"href":"/blog/PC Community","className":"block rounded-md m-0 px-3 py-1 text-sm font-medium hover:bg-gray-100 hover:text-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"PC Community"}],["$","span",null,{"className":"text-gray-400","children":["(",8,")"]}]]}],["$","$L5","온라인 명륜당",{"href":"/blog/온라인 명륜당","className":"block rounded-md m-0 px-3 py-1 text-sm font-medium hover:bg-gray-100 hover:text-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"온라인 명륜당"}],["$","span",null,{"className":"text-gray-400","children":["(",0,")"]}]]}]]]}]]}]}],["$","div",null,{"children":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["board","PC%20Community","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$9","children",["post","2021-08-12-005-react-router-navigation","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$La",["$","article",null,{"className":"mx-auto","children":[["$","div",null,{"className":"mb-12 text-center","children":[["$","h1",null,{"className":"text-3xl font-bold","children":"학생 커뮤니티 사이트 제작 (5) - React Router & Navigation"}],["$","time",null,{"dateTime":"2021-08-11T00:00:00.000Z","className":"mb-1 text-xs text-gray-600 dark:text-gray-400","children":"2021. 08. 11."}]]}],["$","div",null,{"className":"[&>*]:mb-3 [&>*:last-child]:mb-0 markdown-body","dangerouslySetInnerHTML":{"__html":"$b"}}]]}],null],"segment":"__PAGE__?{\"board\":\"PC Community\",\"post\":\"2021-08-12-005-react-router-navigation\"}"},"styles":null}],"segment":["post","2021-08-12-005-react-router-navigation","d"]},"styles":null}],"segment":["board","PC%20Community","d"]},"styles":null}]}]]}]}],null],"segment":"blog"},"styles":null}]}]]}]}]}],null]
3:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"학생 커뮤니티 사이트 제작 (5) - React Router & Navigation | 개발 일지"}]]
a:null
